"use strict";(self["webpackChunkvue3_music"]=self["webpackChunkvue3_music"]||[]).push([[673],{7673:function(e,n,l){l.r(n),l.d(n,{default:function(){return y}});var t=l(440),o=l(4367),a=l(8643),s=l(4592),i=l(4960),u=l(5578),r=l(4804);const c={class:"singer"},g={class:"group"},f=["onClick"],h={class:"avatar"},p={alt:"头像"},v={class:"index-bar"},d=["onTouchstart","onTouchmove","onTouchend"];var _={__name:"Singer",setup(e){let n=(0,o.iH)(null),l=(0,o.iH)(null),_={},m=(0,o.iH)(0),w=0,y=(0,o.qj)([]),k=(0,o.iH)([]),D=(0,r.tv)();function H(e){D.push(`/m/SingerDetail/${e}`)}function T(e,n){_.y2=e.touches[0].pageY,w=n+Math.floor((_.y2-_.y1)/20),S(w)}function b(e,n){_.y1=e.touches[0].pageY,w=n}function C(e){w==e&&S(e)}function S(e){e=Math.max(0,Math.min(e,26)),m.value=e;let t=l.value.children[e],o=n.value.scroll;o.scrollToElement(t,300)}function Y(e){e=-e,k.value.forEach(((n,l)=>{let t=k.value[l+1];e>=n&&e<t&&(m.value=l)}))}(0,t.YP)((()=>y.length),(async()=>{await(0,t.Y3)();let e=l.value.children,n=0,o=[n];for(let l=0;l<e.length;l++)o.push(n+=e[l].offsetHeight);k.value=o}));let I=M();function M(){let e=(0,o.qj)([{tag:"热"}]);for(let n=65;n<91;n++)e.push({tag:String.fromCharCode(n)});return e}return(0,t.bv)((()=>{I.forEach((e=>{"热"==e.tag?(0,u.E5)().then((n=>{e.singerInfo=n.data.artists,y.push(e.singerInfo)})).catch((e=>{console.log("请求热门歌手失败！")})):(0,u.b2)(e.tag).then((n=>{e.singerInfo=n.data.artists,y.push(e.singerInfo)})).catch((n=>{console.log("请求"+e.tag+"歌手失败！")}))}))})),(e,u)=>{const r=(0,t.Q2)("loadingimg");return(0,t.wg)(),(0,t.iD)("div",c,[(0,t.Wm)(i.Z,{class:"scroll-plane",ref_key:"scrollRef",ref:n,probeType:3,onScroll:Y},{default:(0,t.w5)((()=>[(0,t._)("ul",{class:"singer-list",ref_key:"gropRef",ref:l},[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(I),(e=>((0,t.wg)(),(0,t.iD)("li",{class:"singer-list-group",key:e.tag},[(0,t._)("p",g,(0,a.zw)(e.tag),1),(0,t._)("ul",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)(e.singerInfo,(e=>((0,t.wg)(),(0,t.iD)("li",{class:"group-item",key:e.id,onClick:n=>H(e.id)},[(0,t._)("div",h,[(0,t.wy)((0,t._)("img",p,null,512),[[r,e.picUrl]])]),(0,t._)("span",null,(0,a.zw)(e.name),1)],8,f)))),128))])])))),128))],512)])),_:1},512),(0,t._)("div",v,[(0,t._)("ul",null,[((0,t.wg)(!0),(0,t.iD)(t.HY,null,(0,t.Ko)((0,o.SU)(I),((e,n)=>((0,t.wg)(),(0,t.iD)("li",{onTouchstart:(0,s.iM)((e=>b(e,n)),["prevent","stop"]),class:(0,a.C_)({current:(0,o.SU)(m)===n}),key:e.tag,onTouchmove:(0,s.iM)((e=>T(e,n)),["prevent","stop"]),onTouchend:(0,s.iM)((e=>C(n)),["prevent","stop"])},(0,a.zw)(e.tag),43,d)))),128))])])])}}},m=l(465);const w=(0,m.Z)(_,[["__scopeId","data-v-3ca86b24"]]);var y=w}}]);
//# sourceMappingURL=673.882291ca.js.map