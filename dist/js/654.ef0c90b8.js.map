{"version":3,"file":"js/654.ef0c90b8.js","mappings":"0OAEO,SAASA,EAAsBC,GAClC,OAAOC,EAAAA,EAAAA,GAAQ,CACXC,IAAI,UACJC,OAAO,MACPH,UAEP,CAEM,SAASI,IACZ,OAAOH,EAAAA,EAAAA,GAAQ,CACXC,IAAK,gBACLC,OAAQ,MACRE,OAAQ,CACJC,MAAO,IAGlB,CAEM,SAASC,IACZ,OAAON,EAAAA,EAAAA,GAAQ,CACXC,IAAK,wBACLC,OAAQ,MACRE,OAAQ,CACJC,MAAO,KAGlB,CAEM,SAASE,EAAYC,GACxB,OAAOR,EAAAA,EAAAA,GAAQ,CACXC,IAAK,mBACLC,OAAQ,MACRE,OAAQ,CACJI,OAGX,C,kGCpCD,MAEMC,EAAa,CACjBC,MAAO,YAGT,OACEC,OAAQ,OAERC,MAAMC,GACJ,IAAIC,GAAS,UAEb,SAASC,IACPD,EAAOE,MACT,CAEA,MAAO,CAACC,EAAMC,KACZ,MAAMC,EAAqB,IAE3B,OAAO,WAAc,QAAoB,MAAOV,EAAY,EAAC,QAAaU,EAAoB,CAC5FC,aAAc,OACdC,MAAO,KACPC,OAAQ,KACRZ,MAAO,WACPa,SAAS,QAAeR,EAAa,CAAC,UACrC,KAAM,EAAG,CAAC,aAAa,CAE9B,G,SCvBF,MAAMS,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,4GCNA,MAEMf,EAAa,CACjBC,MAAO,YAEHe,EAAa,CACjBf,MAAO,gBAEHgB,EAAa,CACjBhB,MAAO,aAEHiB,EAAa,CAAC,WACdC,EAAa,CACjBlB,MAAO,SAEHmB,EAAa,CACjBnB,MAAO,WAEHoB,EAAa,CACjBpB,MAAO,QAEHqB,EAAa,CACjBrB,MAAO,QAIT,OACEC,OAAQ,WACRqB,MAAO,CAAC,aAERpB,MAAMC,GACJ,MAAM,UACJoB,GACEpB,EACJ,IAAIqB,GAAQ,UACRC,GAAU,SAAS,IAAMF,EAAUG,QAAU,KACrC,SAAS,IAAMF,EAAMG,MAAMC,eAEvC,SAASC,GAAW,GAClB/B,EAAE,KACFgC,EAAI,GACJC,EAAE,GACFC,IAGAR,EAAMS,SAAS,cAAe,CAC5BnC,KACAgC,OACAI,OAAQH,EAAGG,OACXF,MAEJ,CAGA,SAASG,IACPZ,EAAUa,SAAQC,IAChBR,EAAWQ,EAAQ,IAErBb,EAAMc,OAAO,kBAAmBd,EAAMG,MAAMC,aAAe,GAC7D,CAEA,MAAO,CAACrB,EAAMC,KACZ,MAAM+B,EAAsB,IAEtB9B,EAAqB,IAErB+B,GAAqB,QAAkB,WAE7C,OAAO,WAAc,QAAoB,UAAWzC,EAAY,EAAC,IAAA0C,GAAoB,IAAK1B,EAAY,EAAC,QAAawB,EAAqB,CACvIvC,MAAO,OACPW,MAAO,KACPC,OAAQ,KACRF,aAAc,gBACZ,IAAA+B,GAAoB,OAAQ,CAC9B5B,QAASsB,GACR,SAAU,QAAiBhC,EAAQoB,UAAUG,QAAU,IAAK,MAAM,UAAiB,WAAc,QAAoB,KAAMV,EAAY,GAAE,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYb,EAAQoB,WAAW,CAACmB,EAAMC,MAChO,WAAc,QAAoB,KAAM,CAC7C3C,MAAO,aACP4C,IAAKD,EACL9B,QAASgC,GAAUhB,EAAWa,IAC7B,EAAC,IAAAD,GAAoB,IAAKvB,GAAY,QAAiByB,EAAQ,GAAI,IAAI,IAAAF,GAAoB,MAAOtB,EAAY,EAAC,IAAAsB,GAAoB,IAAKrB,GAAY,QAAiBsB,EAAKZ,MAAO,IAAI,IAAAW,GAAoB,IAAKpB,EAAY,GAAE,SAAW,IAAO,QAAoB,KAAW,MAAM,QAAYqB,EAAKV,IAAIc,KAClS,WAAc,QAAoB,OAAQ,CAC/CF,IAAKE,EAAMhD,KACV,QAAiBgD,EAAMhB,MAAQ,KAAM,MACtC,SAAS,QAAarB,EAAoB,CAC5CC,aAAc,YACdC,MAAO,KACPC,OAAQ,KACRZ,MAAO,gBACF,EAAGiB,MACR,SAAU,CAAC,CAACuB,GAAoB,QAAOf,OAAa,CAE5D,G,SCxFF,MAAMX,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O,iKCNA,MAAMiC,EAAeC,KAAM,QAAa,mBAAoBA,EAAIA,KAAK,UAAeA,GAE9EjD,EAAa,CACjBC,MAAO,cAEHe,EAAa,CACjBf,MAAO,cAEHgB,EAAa,CAAC,OACdC,EAAa,CACjBjB,MAAO,oBAEHkB,EAAa,CACjBlB,MAAO,aAEHmB,EAAa,CAAC,OAEdC,EAA0B2B,GAAa,KAAmB,IAAAN,GAAoB,OAAQ,CAC1FzC,MAAO,MACN,MAAO,KAEJqB,EAAa,CACjBrB,MAAO,cAEHiD,EAAa,CACjBjD,MAAO,iBAEHkD,EAAc,CAClBlD,MAAO,aAEHmD,EAAc,CAClBnD,MAAO,WAEHoD,EAAc,CAAC,MAAO,OAO5B,OACEnD,OAAQ,WAERC,MAAMC,GACJ,IAAIkD,GAAQ,UACRC,GAAe,QAAI,IACnBC,GAAc,QAAI,IAClBhC,GAAY,QAAS,IAErBiC,EAAkBC,GAChBA,GAAS,KAASA,EAAQ,KACpBA,EAAQ,KAAOC,UAAY,IAC1BD,GAAS,KACVA,EAAQ,KAAWC,UAAY,IAEhCD,EAKPE,EAAoB,MACtB,QAAYN,EAAM3D,OAAOI,IAAI8D,MAAKC,IAChCP,EAAaQ,MAAQD,EAAIE,KAAKC,SAC9BT,EAAYO,MAAQD,EAAIE,KAAKC,SAASC,QACtC,IAAIC,EAAWL,EAAIE,KAAKC,SAASE,SACjCA,EAASxC,OAASyC,KAAKC,IAAI,GAAIF,EAASxC,QACxC2C,EAASH,EAAS,IACjBI,OAAMC,IACPC,QAAQC,IAAI,WAAW,GACvB,EAGAJ,EAAWH,IACb,IAAIQ,EAAM,GACVR,EAAS9B,SAAQM,GAAQgC,EAAIC,KAAKjC,EAAK5C,OACvC,QAAa4E,EAAIE,YAAYhB,MAAKC,IAChCtC,EAAUoD,QAAQd,EAAIE,KAAKc,MAAM,IAChCP,OAAMC,IACPC,QAAQC,IAAI,YAAY,GACxB,EAMJ,OAHA,SAAU,KACRd,GAAmB,IAEd,CAACpD,EAAMC,KACZ,MAAMC,EAAqB,IAE3B,OAAO,WAAc,QAAoB,KAAW,KAAM,EAAC,QAAaH,EAAA,IAAO,IAAAmC,GAAoB,MAAO1C,EAAY,EAAC,IAAA0C,GAAoB,UAAW1B,EAAY,EAAC,IAAA0B,GAAoB,MAAO,CAC5LqC,KAAK,QAAOxB,GAAcyB,YAC1BC,IAAK,KACLhF,MAAO,eACN,KAAM,EAAGgB,IAAa,IAAAyB,GAAoB,MAAOxB,EAAY,EAAC,IAAAwB,GAAoB,MAAOvB,EAAY,EAAC,IAAAuB,GAAoB,MAAO,CAClIqC,KAAK,QAAOxB,GAAcyB,YAC1BC,IAAK,MACJ,KAAM,EAAG7D,GAAaC,GAAY,IAAAqB,GAAoB,MAAOpB,EAAY,EAAC,QAAaZ,EAAoB,CAC5GC,aAAc,SACdC,MAAO,KACPC,OAAQ,KACRZ,MAAO,cACL,IAAAyC,GAAoB,OAAQ,MAAM,SAAiB,QAAOe,EAAP,EAAwB,QAAOF,GAAc2B,YAAa,QAAQ,IAAAxC,GAAoB,MAAOQ,EAAY,EAAC,IAAAR,GAAoB,IAAKS,GAAa,SAAiB,QAAOI,GAAcxB,MAAO,IAAI,IAAAW,GAAoB,IAAKU,EAAa,EAAC,IAAAV,GAAoB,MAAO,CACxTqC,KAAK,QAAOvB,GAAa2B,UACzBF,KAAK,QAAOzB,GAAa4B,SACzBnF,MAAO,UACN,KAAM,EAAGoD,IAAc,QAAiB,KAAM,SAAiB,QAAOG,GAAa4B,UAAW,YAAY,QAAa,IAAW,CACnI5D,WAAW,QAAOA,IACjB,KAAM,EAAG,CAAC,iBAAkB,GAAG,CAEtC,G,SCxGF,MAAMT,GAA2B,OAAgB,EAAQ,CAAC,CAAC,YAAY,qBAEvE,O","sources":["webpack://vue3-music/./src/api/recommend.js","webpack://vue3-music/./src/components/back.vue","webpack://vue3-music/./src/components/back.vue?be9e","webpack://vue3-music/./src/components/songlist.vue","webpack://vue3-music/./src/components/songlist.vue?4f6c","webpack://vue3-music/./src/views/PlayList.vue","webpack://vue3-music/./src/views/PlayList.vue?c69b"],"sourcesContent":["import request from \"@/untils/axios\"\r\n\r\nexport function getRecommendSwiperImg(parmas){\r\n    return request({\r\n        url:'/banner',\r\n        method:'get',\r\n        parmas\r\n    })\r\n}\r\n\r\nexport function getRecommendPlaylist(){\r\n    return request({\r\n        url: '/personalized',\r\n        method: 'get',\r\n        params: {\r\n            limit: 9\r\n        }\r\n    })\r\n}\r\n\r\nexport function getRecommendNewSong(){\r\n    return request({\r\n        url: '/personalized/newsong',\r\n        method: 'get',\r\n        params: {\r\n            limit: 15\r\n        }\r\n    })\r\n}\r\n\r\nexport function getPlaylist(id){\r\n    return request({\r\n        url: '/playlist/detail',\r\n        method: 'get',\r\n        params: {\r\n            id\r\n        }\r\n    })\r\n}","import { resolveComponent as _resolveComponent, withModifiers as _withModifiers, createVNode as _createVNode, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-7e5f8d23\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"back-top\"\n};\nimport { useRouter } from \"vue-router\";\nexport default {\n  __name: 'back',\n\n  setup(__props) {\n    let router = useRouter();\n\n    function handleroute() {\n      router.back();\n    }\n\n    return (_ctx, _cache) => {\n      const _component_SvgIcon = _resolveComponent(\"SvgIcon\");\n\n      return _openBlock(), _createElementBlock(\"div\", _hoisted_1, [_createVNode(_component_SvgIcon, {\n        iconFileName: \"back\",\n        width: \"25\",\n        height: \"25\",\n        class: \"song-svg\",\n        onClick: _withModifiers(handleroute, [\"stop\"])\n      }, null, 8, [\"onClick\"])]);\n    };\n  }\n\n};","/* unplugin-vue-components disabled */import script from \"./back.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./back.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./back.vue?vue&type=style&index=0&id=7e5f8d23&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Downloads\\\\vue3-music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-7e5f8d23\"]])\n\nexport default __exports__","import { resolveComponent as _resolveComponent, createVNode as _createVNode, toDisplayString as _toDisplayString, createElementVNode as _createElementVNode, unref as _unref, renderList as _renderList, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, resolveDirective as _resolveDirective, withDirectives as _withDirectives, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-1049660b\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"all-song\"\n};\nconst _hoisted_2 = {\n  class: \"songs-subtit\"\n};\nconst _hoisted_3 = {\n  class: \"song-list\"\n};\nconst _hoisted_4 = [\"onClick\"];\nconst _hoisted_5 = {\n  class: \"order\"\n};\nconst _hoisted_6 = {\n  class: \"content\"\n};\nconst _hoisted_7 = {\n  class: \"name\"\n};\nconst _hoisted_8 = {\n  class: \"desc\"\n};\nimport { computed } from \"vue\";\nimport { useStore } from \"vuex\";\nexport default {\n  __name: 'songlist',\n  props: [\"songsData\"],\n\n  setup(__props) {\n    const {\n      songsData\n    } = __props;\n    let store = useStore();\n    let loading = computed(() => songsData.length <= 0);\n    let index = computed(() => store.state.currentIndex);\n\n    function addOneSong({\n      id,\n      name,\n      al,\n      ar\n    }) {\n      // {id,name,picUrl,artists:song.artists}\n      store.dispatch(\"addSongPlay\", {\n        id,\n        name,\n        picUrl: al.picUrl,\n        ar\n      });\n    } // 播放全部\n\n\n    function addallsong() {\n      songsData.forEach(element => {\n        addOneSong(element);\n      });\n      store.commit(\"setcurrentIndex\", store.state.currentIndex - 29);\n    }\n\n    return (_ctx, _cache) => {\n      const _component_svg_icon = _resolveComponent(\"svg-icon\");\n\n      const _component_SvgIcon = _resolveComponent(\"SvgIcon\");\n\n      const _directive_loading = _resolveDirective(\"loading\");\n\n      return _openBlock(), _createElementBlock(\"section\", _hoisted_1, [_createElementVNode(\"p\", _hoisted_2, [_createVNode(_component_svg_icon, {\n        class: \"icon\",\n        width: \"30\",\n        height: \"30\",\n        iconFileName: \"playmusic1\"\n      }), _createElementVNode(\"span\", {\n        onClick: addallsong\n      }, \"播放全部(\" + _toDisplayString(__props.songsData.length) + \")\", 1)]), _withDirectives((_openBlock(), _createElementBlock(\"ul\", _hoisted_3, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(__props.songsData, (item, index) => {\n        return _openBlock(), _createElementBlock(\"li\", {\n          class: \"songs-item\",\n          key: index,\n          onClick: $event => addOneSong(item)\n        }, [_createElementVNode(\"p\", _hoisted_5, _toDisplayString(index + 1), 1), _createElementVNode(\"div\", _hoisted_6, [_createElementVNode(\"p\", _hoisted_7, _toDisplayString(item.name), 1), _createElementVNode(\"p\", _hoisted_8, [(_openBlock(true), _createElementBlock(_Fragment, null, _renderList(item.ar, aItem => {\n          return _openBlock(), _createElementBlock(\"span\", {\n            key: aItem.id\n          }, _toDisplayString(aItem.name) + \"  \", 1);\n        }), 128))]), _createVNode(_component_SvgIcon, {\n          iconFileName: \"playmusic\",\n          width: \"25\",\n          height: \"25\",\n          class: \"song-svg\"\n        })])], 8, _hoisted_4);\n      }), 128))])), [[_directive_loading, _unref(loading)]])]);\n    };\n  }\n\n};","/* unplugin-vue-components disabled */import script from \"./songlist.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./songlist.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./songlist.vue?vue&type=style&index=0&id=1049660b&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Downloads\\\\vue3-music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-1049660b\"]])\n\nexport default __exports__","import { createVNode as _createVNode, unref as _unref, createElementVNode as _createElementVNode, resolveComponent as _resolveComponent, toDisplayString as _toDisplayString, createTextVNode as _createTextVNode, Fragment as _Fragment, openBlock as _openBlock, createElementBlock as _createElementBlock, pushScopeId as _pushScopeId, popScopeId as _popScopeId } from \"vue\";\n\nconst _withScopeId = n => (_pushScopeId(\"data-v-0b18b582\"), n = n(), _popScopeId(), n);\n\nconst _hoisted_1 = {\n  class: \"m-playlist\"\n};\nconst _hoisted_2 = {\n  class: \"m-p-header\"\n};\nconst _hoisted_3 = [\"src\"];\nconst _hoisted_4 = {\n  class: \"p-head-container\"\n};\nconst _hoisted_5 = {\n  class: \"p-h-cover\"\n};\nconst _hoisted_6 = [\"src\"];\n\nconst _hoisted_7 = /*#__PURE__*/_withScopeId(() => /*#__PURE__*/_createElementVNode(\"span\", {\n  class: \"gd\"\n}, \"歌单\", -1));\n\nconst _hoisted_8 = {\n  class: \"play-count\"\n};\nconst _hoisted_9 = {\n  class: \"p-h-text-info\"\n};\nconst _hoisted_10 = {\n  class: \"info-name\"\n};\nconst _hoisted_11 = {\n  class: \"creator\"\n};\nconst _hoisted_12 = [\"src\", \"alt\"];\nimport { useRoute } from \"vue-router\";\nimport { computed, onMounted, reactive, ref } from \"vue\";\nimport { getPlaylist } from \"@/api/recommend\";\nimport { getSongDtail } from \"@/api/song\";\nimport SongsList from \"@/components/songlist.vue\";\nimport back from \"@/components/back.vue\";\nexport default {\n  __name: 'PlayList',\n\n  setup(__props) {\n    let route = useRoute();\n    let playListData = ref([]);\n    let creatorInfo = ref([]);\n    let songsData = reactive([]); //转换播放数单位\n\n    let handlePlayCount = count => {\n      if (count >= 10000 && count < 100000000) {\n        return (count / 10000).toFixed() + \"万\";\n      } else if (count >= 100000000) {\n        return (count / 100000000).toFixed() + \"亿\";\n      } else {\n        return count;\n      }\n    }; // 请求数据\n\n\n    let getPlaylistdetail = () => {\n      getPlaylist(route.params.id).then(res => {\n        playListData.value = res.data.playlist;\n        creatorInfo.value = res.data.playlist.creator;\n        let trackIds = res.data.playlist.trackIds;\n        trackIds.length = Math.min(30, trackIds.length);\n        getSongs(trackIds);\n      }).catch(err => {\n        console.log(\"请求歌单详情错误\");\n      });\n    };\n\n    let getSongs = trackIds => {\n      let ids = [];\n      trackIds.forEach(item => ids.push(item.id));\n      getSongDtail(ids.toString()).then(res => {\n        songsData.push(...res.data.songs);\n      }).catch(err => {\n        console.log(\"批量获取歌曲失败！\");\n      });\n    };\n\n    onMounted(() => {\n      getPlaylistdetail();\n    });\n    return (_ctx, _cache) => {\n      const _component_SvgIcon = _resolveComponent(\"SvgIcon\");\n\n      return _openBlock(), _createElementBlock(_Fragment, null, [_createVNode(back), _createElementVNode(\"div\", _hoisted_1, [_createElementVNode(\"section\", _hoisted_2, [_createElementVNode(\"img\", {\n        src: _unref(playListData).coverImgUrl,\n        alt: \"图片\",\n        class: \"p-header-bg\"\n      }, null, 8, _hoisted_3), _createElementVNode(\"div\", _hoisted_4, [_createElementVNode(\"div\", _hoisted_5, [_createElementVNode(\"img\", {\n        src: _unref(playListData).coverImgUrl,\n        alt: \"图片\"\n      }, null, 8, _hoisted_6), _hoisted_7, _createElementVNode(\"div\", _hoisted_8, [_createVNode(_component_SvgIcon, {\n        iconFileName: \"music1\",\n        width: \"15\",\n        height: \"15\",\n        class: \"svg-head\"\n      }), _createElementVNode(\"span\", null, _toDisplayString(_unref(handlePlayCount)(_unref(playListData).playCount)), 1)])]), _createElementVNode(\"div\", _hoisted_9, [_createElementVNode(\"p\", _hoisted_10, _toDisplayString(_unref(playListData).name), 1), _createElementVNode(\"p\", _hoisted_11, [_createElementVNode(\"img\", {\n        src: _unref(creatorInfo).avatarUrl,\n        alt: _unref(creatorInfo).nickname,\n        class: \"avatar\"\n      }, null, 8, _hoisted_12), _createTextVNode(\" \" + _toDisplayString(_unref(creatorInfo).nickname), 1)])])])]), _createVNode(SongsList, {\n        songsData: _unref(songsData)\n      }, null, 8, [\"songsData\"])])], 64);\n    };\n  }\n\n};","/* unplugin-vue-components disabled */import script from \"./PlayList.vue?vue&type=script&setup=true&lang=js\"\nexport * from \"./PlayList.vue?vue&type=script&setup=true&lang=js\"\n\nimport \"./PlayList.vue?vue&type=style&index=0&id=0b18b582&lang=less&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\admin\\\\Downloads\\\\vue3-music\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['__scopeId',\"data-v-0b18b582\"]])\n\nexport default __exports__"],"names":["getRecommendSwiperImg","parmas","request","url","method","getRecommendPlaylist","params","limit","getRecommendNewSong","getPlaylist","id","_hoisted_1","class","__name","setup","__props","router","handleroute","back","_ctx","_cache","_component_SvgIcon","iconFileName","width","height","onClick","__exports__","_hoisted_2","_hoisted_3","_hoisted_4","_hoisted_5","_hoisted_6","_hoisted_7","_hoisted_8","props","songsData","store","loading","length","state","currentIndex","addOneSong","name","al","ar","dispatch","picUrl","addallsong","forEach","element","commit","_component_svg_icon","_directive_loading","_","item","index","key","$event","aItem","_withScopeId","n","_hoisted_9","_hoisted_10","_hoisted_11","_hoisted_12","route","playListData","creatorInfo","handlePlayCount","count","toFixed","getPlaylistdetail","then","res","value","data","playlist","creator","trackIds","Math","min","getSongs","catch","err","console","log","ids","push","toString","songs","src","coverImgUrl","alt","playCount","avatarUrl","nickname"],"sourceRoot":""}