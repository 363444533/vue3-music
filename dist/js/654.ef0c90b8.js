"use strict";(self["webpackChunkvue3_music"]=self["webpackChunkvue3_music"]||[]).push([[654],{1114:function(n,a,t){t.d(a,{$J:function(){return e},A5:function(){return i},FT:function(){return l},gg:function(){return c}});var s=t(7841);function e(n){return(0,s.Z)({url:"/banner",method:"get",parmas:n})}function l(){return(0,s.Z)({url:"/personalized",method:"get",params:{limit:9}})}function c(){return(0,s.Z)({url:"/personalized/newsong",method:"get",params:{limit:15}})}function i(n){return(0,s.Z)({url:"/playlist/detail",method:"get",params:{id:n}})}},9207:function(n,a,t){t.d(a,{Z:function(){return d}});var s=t(2041),e=t(440),l=t(4592),c=t(4804);const i={class:"back-top"};var r={__name:"back",setup(n){let a=(0,c.tv)();function t(){a.back()}return(n,a)=>{const c=s.Z;return(0,e.wg)(),(0,e.iD)("div",i,[(0,e.Wm)(c,{iconFileName:"back",width:"25",height:"25",class:"song-svg",onClick:(0,l.iM)(t,["stop"])},null,8,["onClick"])])}}},o=t(465);const u=(0,o.Z)(r,[["__scopeId","data-v-7e5f8d23"]]);var d=u},5759:function(n,a,t){t.d(a,{Z:function(){return w}});var s=t(2041),e=t(440),l=t(8643),c=t(4367),i=t(7266);const r={class:"all-song"},o={class:"songs-subtit"},u={class:"song-list"},d=["onClick"],g={class:"order"},m={class:"content"},p={class:"name"},h={class:"desc"};var v={__name:"songlist",props:["songsData"],setup(n){const{songsData:a}=n;let t=(0,i.oR)(),v=(0,e.Fl)((()=>a.length<=0));(0,e.Fl)((()=>t.state.currentIndex));function _({id:n,name:a,al:s,ar:e}){t.dispatch("addSongPlay",{id:n,name:a,picUrl:s.picUrl,ar:e})}function f(){a.forEach((n=>{_(n)})),t.commit("setcurrentIndex",t.state.currentIndex-29)}return(a,t)=>{const i=s.Z,w=s.Z,k=(0,e.Q2)("loading");return(0,e.wg)(),(0,e.iD)("section",r,[(0,e._)("p",o,[(0,e.Wm)(i,{class:"icon",width:"30",height:"30",iconFileName:"playmusic1"}),(0,e._)("span",{onClick:f},"播放全部("+(0,l.zw)(n.songsData.length)+")",1)]),(0,e.wy)(((0,e.wg)(),(0,e.iD)("ul",u,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(n.songsData,((n,a)=>((0,e.wg)(),(0,e.iD)("li",{class:"songs-item",key:a,onClick:a=>_(n)},[(0,e._)("p",g,(0,l.zw)(a+1),1),(0,e._)("div",m,[(0,e._)("p",p,(0,l.zw)(n.name),1),(0,e._)("p",h,[((0,e.wg)(!0),(0,e.iD)(e.HY,null,(0,e.Ko)(n.ar,(n=>((0,e.wg)(),(0,e.iD)("span",{key:n.id},(0,l.zw)(n.name)+"  ",1)))),128))]),(0,e.Wm)(w,{iconFileName:"playmusic",width:"25",height:"25",class:"song-svg"})])],8,d)))),128))])),[[k,(0,c.SU)(v)]])])}}},_=t(465);const f=(0,_.Z)(v,[["__scopeId","data-v-1049660b"]]);var w=f},8654:function(n,a,t){t.r(a),t.d(a,{default:function(){return C}});var s=t(2041),e=t(440),l=t(4367),c=t(8643),i=t(4804),r=t(1114),o=t(5578),u=t(5759),d=t(9207);const g=n=>((0,e.dD)("data-v-0b18b582"),n=n(),(0,e.Cn)(),n),m={class:"m-playlist"},p={class:"m-p-header"},h=["src"],v={class:"p-head-container"},_={class:"p-h-cover"},f=["src"],w=g((()=>(0,e._)("span",{class:"gd"},"歌单",-1))),k={class:"play-count"},U={class:"p-h-text-info"},b={class:"info-name"},y={class:"creator"},D=["src","alt"];var Z={__name:"PlayList",setup(n){let a=(0,i.yj)(),t=(0,l.iH)([]),g=(0,l.iH)([]),Z=(0,l.qj)([]),S=n=>n>=1e4&&n<1e8?(n/1e4).toFixed()+"万":n>=1e8?(n/1e8).toFixed()+"亿":n,z=()=>{(0,r.A5)(a.params.id).then((n=>{t.value=n.data.playlist,g.value=n.data.playlist.creator;let a=n.data.playlist.trackIds;a.length=Math.min(30,a.length),C(a)})).catch((n=>{console.log("请求歌单详情错误")}))},C=n=>{let a=[];n.forEach((n=>a.push(n.id))),(0,o.eq)(a.toString()).then((n=>{Z.push(...n.data.songs)})).catch((n=>{console.log("批量获取歌曲失败！")}))};return(0,e.bv)((()=>{z()})),(n,a)=>{const i=s.Z;return(0,e.wg)(),(0,e.iD)(e.HY,null,[(0,e.Wm)(d.Z),(0,e._)("div",m,[(0,e._)("section",p,[(0,e._)("img",{src:(0,l.SU)(t).coverImgUrl,alt:"图片",class:"p-header-bg"},null,8,h),(0,e._)("div",v,[(0,e._)("div",_,[(0,e._)("img",{src:(0,l.SU)(t).coverImgUrl,alt:"图片"},null,8,f),w,(0,e._)("div",k,[(0,e.Wm)(i,{iconFileName:"music1",width:"15",height:"15",class:"svg-head"}),(0,e._)("span",null,(0,c.zw)((0,l.SU)(S)((0,l.SU)(t).playCount)),1)])]),(0,e._)("div",U,[(0,e._)("p",b,(0,c.zw)((0,l.SU)(t).name),1),(0,e._)("p",y,[(0,e._)("img",{src:(0,l.SU)(g).avatarUrl,alt:(0,l.SU)(g).nickname,class:"avatar"},null,8,D),(0,e.Uk)(" "+(0,c.zw)((0,l.SU)(g).nickname),1)])])])]),(0,e.Wm)(u.Z,{songsData:(0,l.SU)(Z)},null,8,["songsData"])])],64)}}},S=t(465);const z=(0,S.Z)(Z,[["__scopeId","data-v-0b18b582"]]);var C=z}}]);
//# sourceMappingURL=654.ef0c90b8.js.map