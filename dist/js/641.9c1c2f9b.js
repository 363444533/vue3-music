"use strict";(self["webpackChunkvue3_music"]=self["webpackChunkvue3_music"]||[]).push([[641],{7641:function(e,a,l){l.r(a),l.d(a,{default:function(){return Y}});var t=l(2041),s=l(440),c=l(4367),n=l(4592),i=l(8643),o=l(7841);function r(e){return(0,o.Z)({url:"/search",method:"get",params:{keywords:e}})}function u(){return(0,o.Z)({url:"/search/hot",method:"get"})}function h(){return(0,o.Z)({url:"/search/default",method:"get"})}var d=l(5578),g=l(4960),v=l(7266);const w=e=>((0,s.dD)("data-v-d976c496"),e=e(),(0,s.Cn)(),e),p={class:"search"},m={class:"search-inner"},k=["placeholder"],f={key:0,class:"hot-topics"},_=w((()=>(0,s._)("p",{class:"title"},"热门搜索",-1))),y={class:"hotlist"},D=["onClick"],U={key:1,class:"search-result"},C=["onClick"],H=(0,s.Uk)(" - ");var S={__name:"Search",setup(e){let a=(0,c.iH)(""),l=(0,c.iH)([]),o=(0,c.iH)([]),w=(0,c.iH)([]);function S(e){a.value=e}(0,s.YP)((()=>a.value),(e=>{e=e.trim(),e||(l.value=[]),r(e).then((e=>{l.value=e.data.result.songs})).catch((e=>{console.log("search信息失败")}))})),(0,s.bv)((()=>{u().then((e=>{o.value=e.data.result.hots,console.log(o.value)})).catch((e=>{console.log("search热搜请求失败")})),h().then((e=>{w.value=e.data.data.showKeyword})).catch((e=>{console.log("search热搜请求失败")}))}));let Z=(0,v.oR)();function K({id:e,name:a,al:l,ar:t}){(0,d.eq)(e).then((e=>{let{id:a,name:l,al:t,ar:s}=e.data.songs[0];Z.dispatch("addSongPlay",{id:a,name:l,picUrl:t.picUrl,ar:s})})).catch((e=>{console.log("歌曲请求失败")}))}return(e,r)=>{const u=t.Z;return(0,s.wg)(),(0,s.iD)("div",p,[(0,s._)("div",m,[(0,s.Wm)(u,{width:"20",height:"20",iconFileName:"search"}),(0,s.wy)((0,s._)("input",{type:"text",class:"search-input","onUpdate:modelValue":r[0]||(r[0]=e=>(0,c.dq)(a)?a.value=e:a=e),placeholder:(0,c.SU)(w)},null,8,k),[[n.nr,(0,c.SU)(a)]])]),(0,c.SU)(l).length<=0?((0,s.wg)(),(0,s.iD)("div",f,[_,(0,s._)("ul",y,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,c.SU)(o),((e,a)=>((0,s.wg)(),(0,s.iD)("li",{class:"item",key:a,onClick:a=>S(e.first)},(0,i.zw)(e.first),9,D)))),128))])])):((0,s.wg)(),(0,s.iD)("div",U,[(0,s.Wm)(g.Z,{class:"scroll-wrap"},{default:(0,s.w5)((()=>[(0,s._)("ul",null,[((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)((0,c.SU)(l),(e=>((0,s.wg)(),(0,s.iD)("li",{key:e.id,onClick:a=>K(e)},[(0,s._)("span",null,(0,i.zw)(e.name),1),H,((0,s.wg)(!0),(0,s.iD)(s.HY,null,(0,s.Ko)(e.artists,((e,a)=>((0,s.wg)(),(0,s.iD)("span",{key:a},(0,i.zw)(e.name)+" ",1)))),128))],8,C)))),128))])])),_:1})]))])}}},Z=l(465);const K=(0,Z.Z)(S,[["__scopeId","data-v-d976c496"]]);var Y=K}}]);
//# sourceMappingURL=641.9c1c2f9b.js.map